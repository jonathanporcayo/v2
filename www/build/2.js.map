{"version":3,"sources":["../../src/pages/list-menu/list-menu.module.ts","../../src/pages/list-menu/list-menu.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\n// import { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ListMemnuPage } from './list-menu';\n\n@NgModule({\n  declarations: [\n    ListMemnuPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListMemnuPage)\n    // ,\n    // TranslateModule.forChild()\n  ],\n  exports: [\n    ListMemnuPage\n  ]\n})\nexport class ListMasterPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-menu/list-menu.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, ModalController, NavController, ToastController } from 'ionic-angular'; \nimport { Item } from '../../models/item';\nimport { Items } from '../../providers'; \nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { Nav, App, MenuController } from 'ionic-angular';\nimport { LoginPage } from '../login/login';\nimport { ListMasterPage} from '../list-master/list-master'\nimport { User } from '../../providers'; \n@IonicPage()\n@Component({\n  selector: 'page-list-menu',\n  templateUrl: 'list-menu.html'\n})\nexport class ListMemnuPage {\n  @ViewChild(Nav) nav: Nav;\n  currentItems: Item[];\n  accont: any = {};\n  session = JSON.parse(localStorage.getItem('session'));\n  programasSelect =  localStorage.getItem('programasSelect');\n    programas = JSON.parse( localStorage.getItem('programas'));\n\n  qrData = null;\n  createdCode = null;\n  scannedCode = null;\n\n\n\n  appMenuItems: any[] = [\n    { title: 'Inicio', component: 'TutorialPage', icono: 'home' },\n    { title: 'Scanner', component: 'WelcomePage', icono: 'qr-scanner' } \n  ];\n\n\n  rootPage: any;\n\n  constructor(private user:User,app: App, public menu: MenuController, private barcodeScanner: BarcodeScanner, public navCtrl: NavController, public items: Items, public modalCtrl: ModalController, public toastCtrl: ToastController, ) {\n \n   this.menuset();\n  }\n\n  ionViewDidLoad() {\n    // this.scanCode();\n   this. menuset();\n  }\n\n  menuset(){\n    this.enableMenuHiden();\n    if (this.session == null && this.programasSelect==null) {\n      this.enableMenuHiden();\n    } else {\n      this.enableMenu();\n\n    }\n  }\n\n  Programa(data){\n    console.log(data);\n    localStorage.setItem('programasSelect',data);  \n   this.menuset();\n   this.navCtrl.setRoot(ListMasterPage);\n\n  }\n\n  enableMenu() {\n    this.menu.enable(true, 'loggedOutMenu');\n\n  }\n\n  enableMenuHiden() {\n    this.menu.enable(false, 'loggedOutMenu');\n  }\n\n  addItem() {\n    let addModal = this.modalCtrl.create('ItemCreatePage');\n    addModal.onDidDismiss(item => {\n      if (item) {\n        this.items.add(item);\n      }\n    })\n    addModal.present();\n  }\n\n  codigo() {\n    if (this.accont.codigo == '1') {\n      this.startNotification('si es beneficiario');\n      this.Beneficio('data');\n    }\n\n    if (this.accont.codigo == '2') {\n      this.startNotification(' no beneficiario');\n    }\n\n    if (this.accont.codigo == '3') {\n      this.startNotification('completar datos');\n      this.compledData('data','data');\n    }\n  }\n\n\n  openItem(item: Item) {\n    this.navCtrl.push('ItemDetailPage', {\n      item: item\n    });\n  }\n\n  logout() {\n    // localStorage.clear();\n    localStorage.removeItem('dependencias');\n    localStorage.removeItem('programas'); \n    localStorage.removeItem('programasSelect');\n    localStorage.removeItem('session');\n    this.navCtrl.setRoot(LoginPage);\n    //this.navCtrl.setRoot(ListMasterPage); \n  }\n\n  Beneficio(data) {\n    let addModal = this.modalCtrl.create('BeneficioPage');\n    addModal.onDidDismiss(item => {\n      console.log(item);\n    })\n    addModal.present();\n  }\n\n  startNotification(data) {\n\n    const toast = this.toastCtrl.create({\n      message: data,\n      showCloseButton: true,\n      duration: 3000,\n      closeButtonText: 'Ok'\n    });\n\n    toast.present();\n  }\n\n  compledData(datas,data) {\n    console.log(datas);\n    this.navCtrl.push('UpdateInfoPage', {\n      item: datas,\n      items:data\n    }); \n  }\n\n  createCode() {\n    this.createdCode = this.qrData;\n  }\n\n  scanCode() {\n    this.barcodeScanner.scan().then(barcodeData => {\n\n      var data = \"<soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\" xmlns:ser=\\\"ServerDecrypt\\\">\\r\\n   <soapenv:Header/>\\r\\n   <soapenv:Body>\\r\\n      <ser:PWSDecrypt.Execute>\\r\\n         <ser:Cadenaencriptada>\" + barcodeData.text + \"</ser:Cadenaencriptada>\\r\\n      </ser:PWSDecrypt.Execute>\\r\\n   </soapenv:Body>\\r\\n</soapenv:Envelope>\";\n      // var data = \"<soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\" xmlns:ser=\\\"ServerDecrypt\\\">\\r\\n   <soapenv:Header/>\\r\\n   <soapenv:Body>\\r\\n      <ser:PWSDecrypt.Execute>\\r\\n         <ser:Cadenaencriptada>iLlrLpBfI0cpqKiqUrU5d+LL9j9Wpuf7wvLttyKK4KtHcxWyyJvSmuz5sMPS7K/F</ser:Cadenaencriptada>\\r\\n      </ser:PWSDecrypt.Execute>\\r\\n   </soapenv:Body>\\r\\n</soapenv:Envelope>\";\n      var xhr = new XMLHttpRequest();\n      xhr.withCredentials = true;\n      var thas = this;\n      xhr.addEventListener(\"readystatechange\", function () {\n        if (this.readyState === 4  ) {\n         var cadena = this.responseText.replace(/<[^>]*>/g, '');\n        //  var cadena= \"|ACEVEDO|ABAD|NAYELI|16/05/08|MUJER|15|0|\";\n          var parts = cadena.split(\"|\");\n          thas.UserDataQr(parts); \n        }\n      });\n\n      xhr.open(\"POST\", \"http://172.16.7.76:8283/drc/servlet/com.serverdecrypt.apwsdecrypt?wsdl\");\n      xhr.setRequestHeader(\"Content-Type\", \"text/xml\");\n      xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n      xhr.setRequestHeader(\"Postman-Token\", \"4c9d06e0-06e9-45a3-a37d-0ba56ad9d7f8\");\n      xhr.send(data);\n    })\n  }\n\n  UserDataQr(data) { \n      this.user.getDataUserQr(data ).then((resp) => {  \n        console.log(resp[0].CVE_PERSONA)\n        this.getDataUserBeneficio(resp[0])\n        //this.compledData(resp[0]);\n      }, (err) => {\n        var data = JSON.stringify(err);\n        var DataL = JSON.parse(data)\n        this.startNotification(DataL.error.message); \n      });\n   \n  }\n\n  getDataUserBeneficio(data) { \n    this.user.getDataUserBeneficio(data ).then((resp) => {    \n      console.log(resp[0])\n      this.compledData(resp[0],data);\n    }, (err) => {\n      var data = JSON.stringify(err);\n      var DataL = JSON.parse(data)\n      this.startNotification(DataL.error.message); \n    });\n \n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-menu/list-menu.ts"],"sourceRoot":""}